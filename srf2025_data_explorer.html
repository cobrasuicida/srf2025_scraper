<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SRF2025 Data Explorer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: fadeInUp 1s ease-out;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: #2c3e50;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .header p {
            font-size: 1.1rem;
            color: #666;
            margin-bottom: 20px;
        }

        .author-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .author-icon {
            font-size: 1.5rem;
        }

        .author-name {
            font-size: 0.95rem;
            color: #666;
            background: rgba(255, 255, 255, 0.8);
            padding: 8px 16px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .filter-bar {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            align-items: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .filter-bar input,
        .filter-bar select {
            padding: 12px 16px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            font-size: 14px;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .filter-bar input:focus,
        .filter-bar select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .filter-bar input {
            flex: 1;
            min-width: 250px;
        }

        .filter-bar button {
            padding: 12px 24px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .filter-bar button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .stats-display {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            font-weight: 600;
            color: #2c3e50;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .contributions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
            gap: 20px;
        }

        .contribution-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .contribution-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(45deg, #667eea, #764ba2);
        }

        .contribution-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }

        .contribution-header {
            margin-bottom: 15px;
        }

        .contribution-code {
            font-size: 20px;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 8px;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        .contribution-title {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 12px;
            line-height: 1.4;
        }

        .session-tag {
            display: inline-block;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }

        .contribution-meta {
            margin-bottom: 15px;
            font-size: 14px;
            color: #666;
        }

        .contribution-meta div {
            margin-bottom: 5px;
        }

        .contribution-abstract {
            font-size: 14px;
            color: #555;
            line-height: 1.5;
        }

        .expand-btn {
            color: #007acc;
            cursor: pointer;
            font-weight: 500;
            margin-top: 8px;
            display: inline-block;
        }

        .expand-btn:hover {
            text-decoration: underline;
        }

        .expanded .contribution-abstract {
            max-height: none;
        }

        .loading {
            text-align: center;
            padding: 80px 40px;
            font-size: 20px;
            color: rgba(255, 255, 255, 0.8);
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            margin: 40px 0;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 0.6;
            }

            50% {
                opacity: 1;
            }
        }

        .footer {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            margin-top: 40px;
            padding: 25px;
            color: #666;
            font-size: 0.9rem;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        @media (max-width: 768px) {
            .contributions-grid {
                grid-template-columns: 1fr;
            }

            .filter-bar {
                flex-direction: column;
                align-items: stretch;
                gap: 15px;
            }

            .filter-bar input,
            .filter-bar select {
                min-width: auto;
                width: 100%;
            }

            .filter-bar button {
                width: 100%;
                margin-top: 10px;
            }
        }

        /* 动画效果 */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* 粒子背景效果 */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 8s ease-in-out infinite;
        }

        .particle:nth-child(1) {
            width: 4px;
            height: 4px;
            top: 10%;
            left: 10%;
            animation-delay: 0s;
        }

        .particle:nth-child(2) {
            width: 6px;
            height: 6px;
            top: 20%;
            left: 80%;
            animation-delay: 1s;
        }

        .particle:nth-child(3) {
            width: 3px;
            height: 3px;
            top: 60%;
            left: 20%;
            animation-delay: 2s;
        }

        .particle:nth-child(4) {
            width: 5px;
            height: 5px;
            top: 80%;
            left: 70%;
            animation-delay: 3s;
        }

        .particle:nth-child(5) {
            width: 4px;
            height: 4px;
            top: 40%;
            left: 50%;
            animation-delay: 4s;
        }

        .particle:nth-child(6) {
            width: 3px;
            height: 3px;
            top: 70%;
            left: 30%;
            animation-delay: 5s;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0px) rotate(0deg);
                opacity: 0.3;
            }

            50% {
                transform: translateY(-30px) rotate(180deg);
                opacity: 0.8;
            }
        }
    </style>
</head>

<body>
    <div class="particles">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>
    <div class="container">
        <div class="header">
            <h1>SRF2025 Conference Data Explorer</h1>
            <p>Explore 278 contributions from the SRF2025 conference</p>
            <div class="author-info">
                <span class="author-icon">👨‍💻</span>
                <span class="author-name">Created by: 刘铭 (Ming Liu)</span>
            </div>
        </div>

        <div class="filter-bar">
            <input type="text" id="search-input" placeholder="Search by title, code, or abstract...">
            <select id="session-filter">
                <option value="">All Sessions</option>
            </select>
            <select id="type-filter">
                <option value="">All Types</option>
            </select>
            <select id="author-filter">
                <option value="">All Authors</option>
            </select>
            <select id="presenter-filter">
                <option value="">All Presenters</option>
            </select>
            <select id="date-filter">
                <option value="">All Dates</option>
            </select>
            <button onclick="clearFilters()">Clear Filters</button>
        </div>

        <div id="stats-display" class="stats-display"></div>

        <div id="loading" class="loading">Loading SRF2025 conference data...</div>

        <div id="contributions-grid" class="contributions-grid" style="display: none;">
            <!-- Contributions will be loaded here -->
        </div>

        <footer class="footer">
            <p>&copy; 2025 SRF2025 Data Explorer | Created by: 刘铭 (Ming Liu)</p>
        </footer>
    </div>

    <script src="srf2025_data.js"></script>
    <script>
        let allContributions = [];
        let filteredContributions = [];

        // Load data from external JavaScript file
        async function loadData() {
            try {
                // Data is loaded from srf2025_data.js
                const data = srf2025Data;

                // Extract contributions from sessions
                allContributions = [];
                data.sessions.forEach(sessionData => {
                    sessionData.papers.forEach(contribution => {
                        contribution.session_name = sessionData.session_info.name;
                        contribution.session_prefix = sessionData.session_info.prefix;
                        allContributions.push(contribution);
                    });
                });

                filteredContributions = [...allContributions];
                updateStats();
                populateFilters();
                renderContributions();

                document.getElementById('loading').style.display = 'none';
                document.getElementById('contributions-grid').style.display = 'grid';

            } catch (error) {
                document.getElementById('loading').innerHTML = 'Error loading data: ' + error.message;
            }
        }

        function updateStats() {
            const totalContributions = allContributions.length;
            const filteredCount = filteredContributions.length;

            document.getElementById('stats-display').innerHTML = `<strong>Showing ${filteredCount} of ${totalContributions} contributions</strong>`;
        }

        function populateFilters() {
            const sessionFilter = document.getElementById('session-filter');
            const typeFilter = document.getElementById('type-filter');
            const authorFilter = document.getElementById('author-filter');
            const presenterFilter = document.getElementById('presenter-filter');
            const dateFilter = document.getElementById('date-filter');

            const sessions = [...new Set(allContributions.map(c => c.session_name))].sort();
            const types = [...new Set(allContributions.map(c => c.type))].filter(Boolean).sort();

            // Extract authors, presenters, and dates
            const authors = new Set();
            const presenters = new Set();
            const dates = new Set();

            allContributions.forEach(contribution => {
                // Extract author from footnotes
                if (contribution.footnotes) {
                    const authorMatch = contribution.footnotes.match(/Author:\s*([^(\n]+)/);
                    if (authorMatch) {
                        authors.add(authorMatch[1].trim());
                    }

                    // Extract presenter from footnotes
                    const presenterMatch = contribution.footnotes.match(/Presenter:\s*([^(\n]+)/);
                    if (presenterMatch) {
                        presenters.add(presenterMatch[1].trim());
                    }
                }

                // Extract date from date_time
                if (contribution.date_time) {
                    const dateMatch = contribution.date_time.match(/(\w+day), (\w+ \d+, \d+)/);
                    if (dateMatch) {
                        dates.add(dateMatch[2]); // e.g., "September 22, 2025"
                    }
                }
            });

            const sortedAuthors = Array.from(authors).sort();
            const sortedPresenters = Array.from(presenters).sort();
            const sortedDates = Array.from(dates).sort();

            // Populate session filter
            sessions.forEach(session => {
                const option = document.createElement('option');
                option.value = session;
                option.textContent = session;
                sessionFilter.appendChild(option);
            });

            // Populate type filter
            types.forEach(type => {
                const option = document.createElement('option');
                option.value = type;
                option.textContent = type;
                typeFilter.appendChild(option);
            });

            // Populate author filter
            sortedAuthors.forEach(author => {
                const option = document.createElement('option');
                option.value = author;
                option.textContent = author;
                authorFilter.appendChild(option);
            });

            // Populate presenter filter
            sortedPresenters.forEach(presenter => {
                const option = document.createElement('option');
                option.value = presenter;
                option.textContent = presenter;
                presenterFilter.appendChild(option);
            });

            // Populate date filter
            sortedDates.forEach(date => {
                const option = document.createElement('option');
                option.value = date;
                option.textContent = date;
                dateFilter.appendChild(option);
            });
        }

        function renderContributions() {
            const grid = document.getElementById('contributions-grid');
            grid.innerHTML = '';

            filteredContributions.forEach(contribution => {
                const card = createContributionCard(contribution);
                grid.appendChild(card);
            });
        }

        function createContributionCard(contribution) {
            const card = document.createElement('div');
            card.className = 'contribution-card';

            const abstractPreview = contribution.abstract ?
                (contribution.abstract.length > 200 ? contribution.abstract.substring(0, 200) + '...' : contribution.abstract) :
                'No abstract available';

            const typeText = contribution.type || 'Not specified';

            card.innerHTML = `
                <div class="contribution-header">
                    <div class="contribution-code">${contribution.contribution_code}</div>
                    <div class="contribution-title">${contribution.title}</div>
                    <span class="session-tag">${contribution.session_prefix}</span>
                </div>

                <div class="contribution-meta">
                    <div><strong>Type:</strong> ${typeText}</div>
                    <div><strong>Session:</strong> ${contribution.session_name}</div>
                    ${contribution.date_time ? `<div><strong>Date/Time:</strong> ${contribution.date_time}</div>` : ''}
                </div>

                <div class="contribution-abstract" id="abstract-${contribution.contribution_id}">
                    ${abstractPreview}
                    ${contribution.abstract && contribution.abstract.length > 200 ?
                    `<div class="expand-btn" onclick="toggleAbstract('${contribution.contribution_id}')">Read more</div>` :
                    ''}
                </div>
            `;

            return card;
        }

        function toggleAbstract(contributionId) {
            const abstractEl = document.getElementById(`abstract-${contributionId}`);
            const contribution = allContributions.find(c => c.contribution_id === contributionId);

            if (abstractEl.classList.contains('expanded')) {
                abstractEl.classList.remove('expanded');
                abstractEl.innerHTML = contribution.abstract.substring(0, 200) + '...' +
                    `<div class="expand-btn" onclick="toggleAbstract('${contributionId}')">Read more</div>`;
            } else {
                abstractEl.classList.add('expanded');
                abstractEl.innerHTML = contribution.abstract +
                    `<div class="expand-btn" onclick="toggleAbstract('${contributionId}')">Show less</div>`;
            }
        }

        function applyFilters() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            const sessionFilter = document.getElementById('session-filter').value;
            const typeFilter = document.getElementById('type-filter').value;
            const authorFilter = document.getElementById('author-filter').value;
            const presenterFilter = document.getElementById('presenter-filter').value;
            const dateFilter = document.getElementById('date-filter').value;

            filteredContributions = allContributions.filter(contribution => {
                const matchesSearch = !searchTerm ||
                    contribution.title.toLowerCase().includes(searchTerm) ||
                    contribution.contribution_code.toLowerCase().includes(searchTerm) ||
                    (contribution.abstract && contribution.abstract.toLowerCase().includes(searchTerm)) ||
                    (contribution.type && contribution.type.toLowerCase().includes(searchTerm));

                const matchesSession = !sessionFilter || contribution.session_name === sessionFilter;
                const matchesType = !typeFilter || contribution.type === typeFilter;

                // Check author match
                let matchesAuthor = !authorFilter;
                if (authorFilter && contribution.footnotes) {
                    const authorMatch = contribution.footnotes.match(/Author:\s*([^(\n]+)/);
                    if (authorMatch) {
                        matchesAuthor = authorMatch[1].trim() === authorFilter;
                    }
                }

                // Check presenter match
                let matchesPresenter = !presenterFilter;
                if (presenterFilter && contribution.footnotes) {
                    const presenterMatch = contribution.footnotes.match(/Presenter:\s*([^(\n]+)/);
                    if (presenterMatch) {
                        matchesPresenter = presenterMatch[1].trim() === presenterFilter;
                    }
                }

                // Check date match
                let matchesDate = !dateFilter;
                if (dateFilter && contribution.date_time) {
                    const dateMatch = contribution.date_time.match(/(\w+day), (\w+ \d+, \d+)/);
                    if (dateMatch) {
                        matchesDate = dateMatch[2] === dateFilter;
                    }
                }

                return matchesSearch && matchesSession && matchesType && matchesAuthor && matchesPresenter && matchesDate;
            });

            updateStats();
            renderContributions();
        }

        function clearFilters() {
            document.getElementById('search-input').value = '';
            document.getElementById('session-filter').value = '';
            document.getElementById('type-filter').value = '';
            document.getElementById('author-filter').value = '';
            document.getElementById('presenter-filter').value = '';
            document.getElementById('date-filter').value = '';
            filteredContributions = [...allContributions];
            updateStats();
            renderContributions();
        }

        // Event listeners
        document.getElementById('search-input').addEventListener('input', applyFilters);
        document.getElementById('session-filter').addEventListener('change', applyFilters);
        document.getElementById('type-filter').addEventListener('change', applyFilters);
        document.getElementById('author-filter').addEventListener('change', applyFilters);
        document.getElementById('presenter-filter').addEventListener('change', applyFilters);
        document.getElementById('date-filter').addEventListener('change', applyFilters);

        // Load data when page loads
        loadData();
    </script>
</body>

</html>